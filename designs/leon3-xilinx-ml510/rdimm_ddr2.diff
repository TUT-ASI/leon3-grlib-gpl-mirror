diff -Naur mig_36_1/example_design/datasheet.txt mig_36_1.org/example_design/datasheet.txt
--- mig_36_1/example_design/datasheet.txt	2011-09-25 23:35:44.000000000 +0200
+++ mig_36_1.org/example_design/datasheet.txt	2011-09-22 11:29:57.000000000 +0200
@@ -33,10 +33,10 @@
    Controller Options :
       Memory                         : DDR2_SDRAM
       Design Clock Frequency         : 5000 ps(200.00 MHz)
-      Memory Type                    : RDIMMs
-      Memory Part                    : MT9HTF6472Y-40E
+      Memory Type                    : UDIMMs
+      Memory Part                    : MT4HTF3264AY-40E
       Equivalent Part(s)             : --
-      Data Width                     : 72
+      Data Width                     : 64
       Memory Depth                   : 1
       ECC                            : ECC Disabled
       Data Mask                      : enabled
@@ -57,7 +57,7 @@
                       bank 13(38) -> Number of pins used : 0 
                       bank 15(38) -> Number of pins used : 0 
                       bank 17(38) -> Number of pins used : 0 
-                      bank 19(38) -> Number of pins used : 33 
+                      bank 19(38) -> Number of pins used : 22 
                       bank 21(38) -> Number of pins used : 0 
                       bank 23(38) -> Number of pins used : 33 
                       bank 25(38) -> Number of pins used : 0 
@@ -66,9 +66,9 @@
                       
        Address/Control:bank 11(38) -> Number of pins used : 0 
                       bank 13(38) -> Number of pins used : 0 
-                      bank 15(38) -> Number of pins used : 16 
+                      bank 15(38) -> Number of pins used : 7 
                       bank 17(38) -> Number of pins used : 0 
-                      bank 19(38) -> Number of pins used : 3 
+                      bank 19(38) -> Number of pins used : 14 
                       bank 21(38) -> Number of pins used : 0 
                       bank 23(38) -> Number of pins used : 3 
                       bank 25(38) -> Number of pins used : 0 
@@ -89,5 +89,5 @@
        System Clock  :bank 3(19) -> Number of pins used : 2 
                       bank 4(19) -> Number of pins used : 0 
                       
-       Total IOs used :    129
+       Total IOs used :    120
 
diff -Naur mig_36_1/example_design/log.txt mig_36_1.org/example_design/log.txt
--- mig_36_1/example_design/log.txt	2011-09-25 23:35:44.000000000 +0200
+++ mig_36_1.org/example_design/log.txt	2011-09-22 11:29:57.000000000 +0200
@@ -1,6 +1,6 @@
                                                           Log file                                                       
 
-Generated by MIG MIG Version 3.6.1Build NumberSW_VERSION on Sun Sep 25 23:35:43 2011
+Generated by MIG MIG Version 3.6.1Build NumberSW_VERSION on Thu Sep 22 11:29:55 2011
 
 
 Reading design libraries of xc5vfx130t-ff1738... successful !
@@ -37,10 +37,10 @@
 Allocating pins to System Control signals  ...successful!
 Allocating pins to system clock signals  ...successful!
 Copying all the files from docs ...
-copying /home/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/adr_cntrl_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
-copying /home/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/read_data_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
-copying /home/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/write_data_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
-copying /home/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/xapp858.url to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
+copying /usr/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/adr_cntrl_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
+copying /usr/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/read_data_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
+copying /usr/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/write_data_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
+copying /usr/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/xapp858.url to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
 Generating the file /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/example_design/rtl/ddr2_chipscope.vhd ...successful!
 Generating the file /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/example_design/rtl/ddr2_ctrl.vhd ...successful!
 Generating the file /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/example_design/rtl/ddr2_top.vhd ...successful!
diff -Naur mig_36_1/example_design/mig.prj mig_36_1.org/example_design/mig.prj
--- mig_36_1/example_design/mig.prj	2011-09-25 23:35:44.000000000 +0200
+++ mig_36_1.org/example_design/mig.prj	2011-09-22 11:29:57.000000000 +0200
@@ -13,14 +13,14 @@
     <PinSelectionFlag>FALSE</PinSelectionFlag>
     <IODelayHighPerformanceMode>HIGH</IODelayHighPerformanceMode>
     <Controller number="0" >
-        <MemoryDevice>DDR2_SDRAM/RDIMMs/MT9HTF6472Y-40E</MemoryDevice>
+        <MemoryDevice>DDR2_SDRAM/UDIMMs/MT4HTF3264AY-40E</MemoryDevice>
         <TimePeriod>5000</TimePeriod>
-        <DataWidth>72</DataWidth>
+        <DataWidth>64</DataWidth>
         <DeepMemory>1</DeepMemory>
         <DataMask>1</DataMask>
         <CustomPart>FALSE</CustomPart>
         <NewPartName></NewPartName>
-        <RowAddress>14</RowAddress>
+        <RowAddress>13</RowAddress>
         <ColAddress>10</ColAddress>
         <BankAddress>2</BankAddress>
         <TimingParameters>
@@ -47,7 +47,7 @@
         <mrMode name="Mode" >normal(0)</mrMode>
         <mrDllReset name="DLL Reset" >no(0)</mrDllReset>
         <mrPdMode name="PD Mode" >fast exit(0)</mrPdMode>
-        <mrWriteRecovery name="Write Recovery" >3(010)</mrWriteRecovery>
+        <mrWriteRecovery name="Write Recovery" ></mrWriteRecovery>
         <emrDllEnable name="DLL Enable" >Enable-Normal(0)</emrDllEnable>
         <emrOutputDriveStrength name="Output Drive Strength" >Fullstrength(0)</emrOutputDriveStrength>
         <emrRTT name="RTT (nominal) - ODT" >75ohms(01)</emrRTT>
diff -Naur mig_36_1/example_design/par/mig_36_1.ucf mig_36_1.org/example_design/par/mig_36_1.ucf
--- mig_36_1/example_design/par/mig_36_1.ucf	2011-09-25 23:35:43.000000000 +0200
+++ mig_36_1.org/example_design/par/mig_36_1.ucf	2011-09-22 11:29:57.000000000 +0200
@@ -1,7 +1,7 @@
 ############################################################################
 ## 
 ##  Xilinx, Inc. 2006            www.xilinx.com 
-##  Sun Sep 25 23:35:43 2011
+##  Thu Sep 22 11:29:55 2011
 ##  Generated by MIG Version 3.6.1
 ##  
 ############################################################################
@@ -32,8 +32,8 @@
 ############################################################################
 ########################################################################
 # Controller 0
-# Memory Device: DDR2_SDRAM->RDIMMs->MT9HTF6472Y-40E
-# Data Width:     72
+# Memory Device: DDR2_SDRAM->UDIMMs->MT4HTF3264AY-40E
+# Data Width:     64
 # Frequency:      200
 # Time Period:      5000
 # Data Mask:     1
@@ -53,7 +53,6 @@
 NET  "ddr2_cs_n[*]"                             IOSTANDARD = SSTL18_II;
 NET  "ddr2_odt[*]"                              IOSTANDARD = SSTL18_II;
 NET  "ddr2_cke[*]"                              IOSTANDARD = SSTL18_II;
-NET  "ddr2_reset_n"                             IOSTANDARD = LVCMOS18;
 NET  "ddr2_dm[*]"                               IOSTANDARD = SSTL18_II_DCI;
 NET  "sys_clk"                                  IOSTANDARD = LVCMOS25;
 NET  "idly_clk_200"                             IOSTANDARD = LVCMOS25;
@@ -133,37 +132,27 @@
 NET  "ddr2_dq[61]"                               LOC = "F36" ;          #Bank 19
 NET  "ddr2_dq[62]"                               LOC = "G36" ;          #Bank 19
 NET  "ddr2_dq[63]"                               LOC = "F37" ;          #Bank 19
-NET  "ddr2_dq[64]"                               LOC = "E38" ;          #Bank 19
-NET  "ddr2_dq[65]"                               LOC = "D37" ;          #Bank 19
-NET  "ddr2_dq[66]"                               LOC = "V35" ;          #Bank 19
-NET  "ddr2_dq[67]"                               LOC = "V34" ;          #Bank 19
-NET  "ddr2_dq[68]"                               LOC = "W33" ;          #Bank 19
-NET  "ddr2_dq[69]"                               LOC = "Y33" ;          #Bank 19
-NET  "ddr2_dq[70]"                               LOC = "W32" ;          #Bank 19
-NET  "ddr2_dq[71]"                               LOC = "Y32" ;          #Bank 19
-NET  "ddr2_a[13]"                                LOC = "D42" ;          #Bank 27
-NET  "ddr2_a[12]"                                LOC = "E32" ;          #Bank 23
-NET  "ddr2_a[11]"                                LOC = "E33" ;          #Bank 23
-NET  "ddr2_a[10]"                                LOC = "T31" ;          #Bank 23
-NET  "ddr2_a[9]"                                 LOC = "U36" ;          #Bank 19
-NET  "ddr2_a[8]"                                 LOC = "V36" ;          #Bank 19
-NET  "ddr2_a[7]"                                 LOC = "AA32" ;          #Bank 19
-NET  "ddr2_a[6]"                                 LOC = "H38" ;          #Bank 15
-NET  "ddr2_a[5]"                                 LOC = "H39" ;          #Bank 15
-NET  "ddr2_a[4]"                                 LOC = "G38" ;          #Bank 15
-NET  "ddr2_a[3]"                                 LOC = "G39" ;          #Bank 15
-NET  "ddr2_a[2]"                                 LOC = "F39" ;          #Bank 15
-NET  "ddr2_a[1]"                                 LOC = "F40" ;          #Bank 15
-NET  "ddr2_a[0]"                                 LOC = "E39" ;          #Bank 15
-NET  "ddr2_ba[1]"                                LOC = "E40" ;          #Bank 15
-NET  "ddr2_ba[0]"                                LOC = "R39" ;          #Bank 15
-NET  "ddr2_ras_n"                                LOC = "R37" ;          #Bank 15
-NET  "ddr2_cas_n"                                LOC = "P37" ;          #Bank 15
-NET  "ddr2_we_n"                                 LOC = "P38" ;          #Bank 15
-NET  "ddr2_cs_n[0]"                              LOC = "N38" ;          #Bank 15
-NET  "ddr2_odt[0]"                               LOC = "N39" ;          #Bank 15
-NET  "ddr2_cke[0]"                               LOC = "M39" ;          #Bank 15
-NET  "ddr2_reset_n"                              LOC = "M38" ;          #Bank 15
+NET  "ddr2_a[12]"                                LOC = "D42" ;          #Bank 27
+NET  "ddr2_a[11]"                                LOC = "T31" ;          #Bank 23
+NET  "ddr2_a[10]"                                LOC = "U36" ;          #Bank 19
+NET  "ddr2_a[9]"                                 LOC = "V36" ;          #Bank 19
+NET  "ddr2_a[8]"                                 LOC = "E38" ;          #Bank 19
+NET  "ddr2_a[7]"                                 LOC = "D37" ;          #Bank 19
+NET  "ddr2_a[6]"                                 LOC = "V35" ;          #Bank 19
+NET  "ddr2_a[5]"                                 LOC = "V34" ;          #Bank 19
+NET  "ddr2_a[4]"                                 LOC = "V33" ;          #Bank 19
+NET  "ddr2_a[3]"                                 LOC = "W33" ;          #Bank 19
+NET  "ddr2_a[2]"                                 LOC = "Y33" ;          #Bank 19
+NET  "ddr2_a[1]"                                 LOC = "W32" ;          #Bank 19
+NET  "ddr2_a[0]"                                 LOC = "Y32" ;          #Bank 19
+NET  "ddr2_ba[1]"                                LOC = "AA32" ;          #Bank 19
+NET  "ddr2_ba[0]"                                LOC = "H38" ;          #Bank 15
+NET  "ddr2_ras_n"                                LOC = "H39" ;          #Bank 15
+NET  "ddr2_cas_n"                                LOC = "G38" ;          #Bank 15
+NET  "ddr2_we_n"                                 LOC = "G39" ;          #Bank 15
+NET  "ddr2_cs_n[0]"                              LOC = "F39" ;          #Bank 15
+NET  "ddr2_odt[0]"                               LOC = "F40" ;          #Bank 15
+NET  "ddr2_cke[0]"                               LOC = "E39" ;          #Bank 15
 NET  "ddr2_dm[0]"                                LOC = "A30" ;          #Bank 27
 NET  "ddr2_dm[1]"                                LOC = "A34" ;          #Bank 27
 NET  "ddr2_dm[2]"                                LOC = "B42" ;          #Bank 27
@@ -172,12 +161,11 @@
 NET  "ddr2_dm[5]"                                LOC = "R33" ;          #Bank 23
 NET  "ddr2_dm[6]"                                LOC = "L37" ;          #Bank 19
 NET  "ddr2_dm[7]"                                LOC = "K37" ;          #Bank 19
-NET  "ddr2_dm[8]"                                LOC = "V33" ;          #Bank 19
 NET  "sys_clk"                                   LOC = "J17" ;          #Bank 3
 NET  "idly_clk_200"                              LOC = "M27" ;          #Bank 3
-NET  "sys_rst_n"                                 LOC = "L39" ;          #Bank 15
-NET  "phy_init_done"                             LOC = "K38" ;          #Bank 15
-NET  "error"                                     LOC = "J38" ;          #Bank 15
+NET  "sys_rst_n"                                 LOC = "E40" ;          #Bank 15
+NET  "phy_init_done"                             LOC = "R39" ;          #Bank 15
+NET  "error"                                     LOC = "R37" ;          #Bank 15
 NET  "ddr2_dqs[0]"                               LOC = "D35" ;          #Bank 27
 NET  "ddr2_dqs_n[0]"                             LOC = "D36" ;          #Bank 27
 NET  "ddr2_dqs[1]"                               LOC = "C36" ;          #Bank 27
@@ -194,10 +182,12 @@
 NET  "ddr2_dqs_n[6]"                             LOC = "T35" ;          #Bank 19
 NET  "ddr2_dqs[7]"                               LOC = "T34" ;          #Bank 19
 NET  "ddr2_dqs_n[7]"                             LOC = "U33" ;          #Bank 19
-NET  "ddr2_dqs[8]"                               LOC = "R35" ;          #Bank 19
-NET  "ddr2_dqs_n[8]"                             LOC = "T36" ;          #Bank 19
 NET  "ddr2_ck[0]"                                LOC = "B37" ;          #Bank 27
 NET  "ddr2_ck_n[0]"                              LOC = "B36" ;          #Bank 27
+NET  "ddr2_ck[1]"                                LOC = "E32" ;          #Bank 23
+NET  "ddr2_ck_n[1]"                              LOC = "E33" ;          #Bank 23
+NET  "ddr2_ck[2]"                                LOC = "R35" ;          #Bank 19
+NET  "ddr2_ck_n[2]"                              LOC = "T36" ;          #Bank 19
 
 
 ###############################################################################
@@ -286,8 +276,6 @@
 INST "*/gen_dqs.6.u_iob_dqs/u_iodelay_dq_ce"  LOC = "IODELAY_X0Y302";
 INST "*/gen_dqs.7.u_iob_dqs/u_iddr_dq_ce"  LOC = "ILOGIC_X0Y300";
 INST "*/gen_dqs.7.u_iob_dqs/u_iodelay_dq_ce"  LOC = "IODELAY_X0Y300";
-INST "*/gen_dqs.8.u_iob_dqs/u_iddr_dq_ce"  LOC = "ILOGIC_X0Y298";
-INST "*/gen_dqs.8.u_iob_dqs/u_iodelay_dq_ce"  LOC = "IODELAY_X0Y298";
 
 ###############################################################################
 # LOC and timing constraints for flop driving DQS CE enable signal
@@ -309,7 +297,6 @@
 INST "*/u_phy_calib/gen_gate.5.u_en_dqs_ff"  LOC = SLICE_X0Y169;
 INST "*/u_phy_calib/gen_gate.6.u_en_dqs_ff"  LOC = SLICE_X0Y151;
 INST "*/u_phy_calib/gen_gate.7.u_en_dqs_ff"  LOC = SLICE_X0Y150;
-INST "*/u_phy_calib/gen_gate.8.u_en_dqs_ff"  LOC = SLICE_X0Y149;
 
 # Control for DQS gate - from fabric flop. Prevent "runaway" delay -
 # two parts to this path: (1) from fabric flop to IDELAY, (2) from
diff -Naur mig_36_1/example_design/rtl/ddr2_phy_top.vhd mig_36_1.org/example_design/rtl/ddr2_phy_top.vhd
--- mig_36_1/example_design/rtl/ddr2_phy_top.vhd	2011-09-25 23:35:43.000000000 +0200
+++ mig_36_1.org/example_design/rtl/ddr2_phy_top.vhd	2011-09-22 11:29:57.000000000 +0200
@@ -395,7 +395,7 @@
     "mig_v3_61_ddr2_sdram_v5, Coregen 12.4";
 
   attribute CORE_GENERATION_INFO : string;
-  attribute CORE_GENERATION_INFO of syn : architecture IS "ddr2_sdram_v5,mig_v3_61,{component_name=ddr2_phy_top, BANK_WIDTH=2, CKE_WIDTH=1, CLK_WIDTH=1, COL_WIDTH=10, CS_NUM=1, CS_WIDTH=1, DM_WIDTH=9, DQ_WIDTH=72, DQ_PER_DQS=8, DQS_WIDTH=9, ODT_WIDTH=1, ROW_WIDTH=14, ADDITIVE_LAT=0, BURST_LEN=4, BURST_TYPE=0, CAS_LAT=3, ECC_ENABLE=0, MULTI_BANK_EN=1, TWO_T_TIME_EN=0, ODT_TYPE=1, REDUCE_DRV=0, REG_ENABLE=1, TREFI_NS=7800, TRAS=40000, TRCD=15000, TRFC=105000, TRP=15000, TRTP=7500, TWR=15000, TWTR=10000, CLK_PERIOD=5000, RST_ACT_LOW=1, INTERFACE_TYPE=DDR2_SDRAM, LANGUAGE=VHDL, SYNTHESIS_TOOL=synplicity, NO_OF_CONTROLLERS=1}";
+  attribute CORE_GENERATION_INFO of syn : architecture IS "ddr2_sdram_v5,mig_v3_61,{component_name=ddr2_phy_top, BANK_WIDTH=2, CKE_WIDTH=1, CLK_WIDTH=3, COL_WIDTH=10, CS_NUM=1, CS_WIDTH=1, DM_WIDTH=8, DQ_WIDTH=64, DQ_PER_DQS=8, DQS_WIDTH=8, ODT_WIDTH=1, ROW_WIDTH=13, ADDITIVE_LAT=0, BURST_LEN=4, BURST_TYPE=0, CAS_LAT=3, ECC_ENABLE=0, MULTI_BANK_EN=1, TWO_T_TIME_EN=1, ODT_TYPE=1, REDUCE_DRV=0, REG_ENABLE=0, TREFI_NS=7800, TRAS=40000, TRCD=15000, TRFC=105000, TRP=15000, TRTP=7500, TWR=15000, TWTR=10000, CLK_PERIOD=5000, RST_ACT_LOW=1, INTERFACE_TYPE=DDR2_SDRAM, LANGUAGE=VHDL, SYNTHESIS_TOOL=synplicity, NO_OF_CONTROLLERS=1}";
 
 begin
 
diff -Naur mig_36_1/example_design/rtl/mig_36_1.vhd mig_36_1.org/example_design/rtl/mig_36_1.vhd
--- mig_36_1/example_design/rtl/mig_36_1.vhd	2011-09-25 23:35:44.000000000 +0200
+++ mig_36_1.org/example_design/rtl/mig_36_1.vhd	2011-09-22 11:29:57.000000000 +0200
@@ -79,7 +79,7 @@
                               -- # of memory bank addr bits.
    CKE_WIDTH                : integer := 1; 
                               -- # of memory clock enable outputs.
-   CLK_WIDTH                : integer := 1; 
+   CLK_WIDTH                : integer := 3; 
                               -- # of clock outputs.
    COL_WIDTH                : integer := 10; 
                               -- # of memory column bits.
@@ -89,21 +89,21 @@
                               -- # of total memory chip selects.
    CS_BITS                  : integer := 0; 
                               -- set to log2(CS_NUM) (rounded up).
-   DM_WIDTH                 : integer := 9; 
+   DM_WIDTH                 : integer := 8; 
                               -- # of data mask bits.
-   DQ_WIDTH                 : integer := 72; 
+   DQ_WIDTH                 : integer := 64; 
                               -- # of data width.
    DQ_PER_DQS               : integer := 8; 
                               -- # of DQ data bits per strobe.
-   DQS_WIDTH                : integer := 9; 
+   DQS_WIDTH                : integer := 8; 
                               -- # of DQS strobes.
-   DQ_BITS                  : integer := 7; 
+   DQ_BITS                  : integer := 6; 
                               -- set to log2(DQS_WIDTH*DQ_PER_DQS).
-   DQS_BITS                 : integer := 4; 
+   DQS_BITS                 : integer := 3; 
                               -- set to log2(DQS_WIDTH).
    ODT_WIDTH                : integer := 1; 
                               -- # of memory on-die term enables.
-   ROW_WIDTH                : integer := 14; 
+   ROW_WIDTH                : integer := 13; 
                               -- # of memory row and # of addr bits.
    ADDITIVE_LAT             : integer := 0; 
                               -- additive write latency.
@@ -115,17 +115,17 @@
                               -- CAS latency.
    ECC_ENABLE               : integer := 0; 
                               -- enable ECC (=1 enable).
-   APPDATA_WIDTH            : integer := 144; 
+   APPDATA_WIDTH            : integer := 128; 
                               -- # of usr read/write data bus bits.
    MULTI_BANK_EN            : integer := 1; 
                               -- Keeps multiple banks open. (= 1 enable).
-   TWO_T_TIME_EN            : integer := 0; 
+   TWO_T_TIME_EN            : integer := 1; 
                               -- 2t timing for unbuffered dimms.
    ODT_TYPE                 : integer := 1; 
                               -- ODT (=0(none),=1(75),=2(150),=3(50)).
    REDUCE_DRV               : integer := 0; 
                               -- reduced strength mem I/O (=1 yes).
-   REG_ENABLE               : integer := 1; 
+   REG_ENABLE               : integer := 0; 
                               -- registered addr/ctrl (=1 yes).
    TREFI_NS                 : integer := 7800; 
                               -- auto refresh interval (ns).
@@ -178,7 +178,6 @@
    ddr2_cs_n             : out   std_logic_vector((CS_WIDTH-1) downto 0);
    ddr2_odt              : out   std_logic_vector((ODT_WIDTH-1) downto 0);
    ddr2_cke              : out   std_logic_vector((CKE_WIDTH-1) downto 0);
-   ddr2_reset_n          : out   std_logic;
    ddr2_dm               : out   std_logic_vector((DM_WIDTH-1) downto 0);
    sys_clk               : in    std_logic;
    idly_clk_200          : in    std_logic;
@@ -459,12 +458,11 @@
     "mig_v3_61_ddr2_v5, Coregen 12.4";
 
   attribute CORE_GENERATION_INFO : string;
-  attribute CORE_GENERATION_INFO of arc_mem_interface_top : architecture IS "ddr2_v5,mig_v3_61,{component_name=mig_36_1, BANK_WIDTH=2, CKE_WIDTH=1, CLK_WIDTH=1, COL_WIDTH=10, CS_NUM=1, CS_WIDTH=1, DM_WIDTH=9, DQ_WIDTH=72, DQ_PER_DQS=8, DQS_WIDTH=9, ODT_WIDTH=1, ROW_WIDTH=14, ADDITIVE_LAT=0, BURST_LEN=4, BURST_TYPE=0, CAS_LAT=3, ECC_ENABLE=0, MULTI_BANK_EN=1, TWO_T_TIME_EN=0, ODT_TYPE=1, REDUCE_DRV=0, REG_ENABLE=1, TREFI_NS=7800, TRAS=40000, TRCD=15000, TRFC=105000, TRP=15000, TRTP=7500, TWR=15000, TWTR=10000, CLK_PERIOD=5000, RST_ACT_LOW=1, INTERFACE_TYPE=DDR2_SDRAM, LANGUAGE=VHDL, SYNTHESIS_TOOL=synplicity, NO_OF_CONTROLLERS=1}";
+  attribute CORE_GENERATION_INFO of arc_mem_interface_top : architecture IS "ddr2_v5,mig_v3_61,{component_name=mig_36_1, BANK_WIDTH=2, CKE_WIDTH=1, CLK_WIDTH=3, COL_WIDTH=10, CS_NUM=1, CS_WIDTH=1, DM_WIDTH=8, DQ_WIDTH=64, DQ_PER_DQS=8, DQS_WIDTH=8, ODT_WIDTH=1, ROW_WIDTH=13, ADDITIVE_LAT=0, BURST_LEN=4, BURST_TYPE=0, CAS_LAT=3, ECC_ENABLE=0, MULTI_BANK_EN=1, TWO_T_TIME_EN=1, ODT_TYPE=1, REDUCE_DRV=0, REG_ENABLE=0, TREFI_NS=7800, TRAS=40000, TRCD=15000, TRFC=105000, TRP=15000, TRTP=7500, TWR=15000, TWTR=10000, CLK_PERIOD=5000, RST_ACT_LOW=1, INTERFACE_TYPE=DDR2_SDRAM, LANGUAGE=VHDL, SYNTHESIS_TOOL=synplicity, NO_OF_CONTROLLERS=1}";
 
 begin
 
   --***************************************************************************
-  ddr2_reset_n   <= not(rst0);
   phy_init_done   <= i_phy_init_done;
   sys_clk_p <= '1';
   sys_clk_n <= '0';
diff -Naur mig_36_1/example_design/sim/sim.do mig_36_1.org/example_design/sim/sim.do
--- mig_36_1/example_design/sim/sim.do	2011-09-25 23:35:44.000000000 +0200
+++ mig_36_1.org/example_design/sim/sim.do	2011-09-22 11:29:57.000000000 +0200
@@ -70,7 +70,7 @@
 vlog  ../sim/*.v
 vcom  ../sim/*.vhd
 #Pass the parameters for memory model parameter file#
-vlog  +incdir+. +define+x512Mb +define+sg5E +define+x8 ddr2_model.v
+vlog  +incdir+. +define+x512Mb +define+sg5E +define+x16 ddr2_model.v
 
 #Load the design. Use required libraries.#
 vsim -t ps -novopt +notimingchecks -L unisim work.sim_tb_top glbl
diff -Naur mig_36_1/example_design/sim/sim_tb_top.vhd mig_36_1.org/example_design/sim/sim_tb_top.vhd
--- mig_36_1/example_design/sim/sim_tb_top.vhd	2011-09-25 23:35:43.000000000 +0200
+++ mig_36_1.org/example_design/sim/sim_tb_top.vhd	2011-09-22 11:29:57.000000000 +0200
@@ -72,32 +72,32 @@
   -- memory controller parameters
   constant BANK_WIDTH            : integer := 2;      -- # of memory bank addr bits
   constant CKE_WIDTH             : integer := 1;      -- # of memory clock enable outputs
-  constant CLK_WIDTH             : integer := 1;      -- # of clock outputs
+  constant CLK_WIDTH             : integer := 3;      -- # of clock outputs
   constant CLK_TYPE              : string  := "SINGLE_ENDED";       -- # of clock type
   constant COL_WIDTH             : integer := 10;     -- # of memory column bits
   constant CS_NUM                : integer := 1;      -- # of separate memory chip selects
   constant CS_WIDTH              : integer := 1;      -- # of total memory chip selects
   constant CS_BITS               : integer := 0;      -- set to log2(CS_NUM) (rounded up)
-  constant DM_WIDTH              : integer := 9;      -- # of data mask bits
-  constant DQ_WIDTH              : integer := 72;     -- # of data width
+  constant DM_WIDTH              : integer := 8;      -- # of data mask bits
+  constant DQ_WIDTH              : integer := 64;     -- # of data width
   constant DQ_PER_DQS            : integer := 8;      -- # of DQ data bits per strobe
-  constant DQ_BITS               : integer := 7;      -- set to log2(DQS_WIDTH*DQ_PER_DQS)
-  constant DQS_WIDTH             : integer := 9;      -- # of DQS strobes
-  constant DQS_BITS              : integer := 4;      -- set to log2(DQS_WIDTH)
+  constant DQ_BITS               : integer := 6;      -- set to log2(DQS_WIDTH*DQ_PER_DQS)
+  constant DQS_WIDTH             : integer := 8;      -- # of DQS strobes
+  constant DQS_BITS              : integer := 3;      -- set to log2(DQS_WIDTH)
   constant HIGH_PERFORMANCE_MODE : boolean := TRUE; -- Sets the performance mode for IODELAY elements
   constant ODT_WIDTH             : integer := 1;      -- # of memory on-die term enables
-  constant ROW_WIDTH             : integer := 14;     -- # of memory row & # of addr bits
-  constant APPDATA_WIDTH         : integer := 144;     -- # of usr read/write data bus bits
+  constant ROW_WIDTH             : integer := 13;     -- # of memory row & # of addr bits
+  constant APPDATA_WIDTH         : integer := 128;     -- # of usr read/write data bus bits
   constant ADDITIVE_LAT          : integer := 0;      -- additive write latency
   constant BURST_LEN             : integer := 4;      -- burst length (in double words)
   constant BURST_TYPE            : integer := 0;      -- burst type (=0 seq; =1 interlved)
   constant CAS_LAT               : integer := 3;      -- CAS latency
   constant ECC_ENABLE            : integer := 0;      -- enable ECC (=1 enable)
   constant MULTI_BANK_EN         : integer := 1;      -- enable bank management
-  constant TWO_T_TIME_EN         : integer := 0;      -- 2t timing for unbuffered dimms
+  constant TWO_T_TIME_EN         : integer := 1;      -- 2t timing for unbuffered dimms
   constant ODT_TYPE              : integer := 1;      -- ODT (=0(none),=1(75),=2(150),=3(50))
   constant REDUCE_DRV            : integer := 0;      -- reduced strength mem I/O (=1 yes)
-  constant REG_ENABLE            : integer := 1;      -- registered addr/ctrl (=1 yes)
+  constant REG_ENABLE            : integer := 0;      -- registered addr/ctrl (=1 yes)
   constant TREFI_NS              : integer := 7800;   -- auto refresh interval (ns)
   constant TRAS                  : integer := 40000;  -- active->precharge delay
   constant TRCD                  : integer := 15000;  -- active->read/write delay
@@ -112,7 +112,7 @@
   constant DLL_FREQ_MODE         : string  := "HIGH"; -- DCM Frequency range
   constant CLK_PERIOD            : integer := 5000;   -- Core/Mem clk period (in ps)
 
-  constant DEVICE_WIDTH    : integer := 8;      -- Memory device data width
+  constant DEVICE_WIDTH    : integer := 16;      -- Memory device data width
   constant CLK_PERIOD_NS   : real := 5000.0 / 1000.0;
   constant TCYC_SYS        : real := CLK_PERIOD_NS/2.0;
   constant TCYC_SYS_0      : time := CLK_PERIOD_NS * 1 ns;
@@ -186,7 +186,6 @@
       ddr2_dqs              : inout std_logic_vector((DQS_WIDTH-1) downto 0);
       ddr2_dqs_n            : inout std_logic_vector((DQS_WIDTH-1) downto 0);
       ddr2_dm               : out   std_logic_vector((DM_WIDTH-1) downto 0);
-      ddr2_reset_n          : out   std_logic;
       
       error                 : out   std_logic;
       
@@ -381,7 +380,6 @@
       ddr2_cke          => ddr2_cke_fpga,
       ddr2_odt          => ddr2_odt_fpga,
       ddr2_dm           => ddr2_dm_fpga,
-      ddr2_reset_n      => ddr2_reset_n_fpga,
       ddr2_dq           => ddr2_dq_fpga,
       ddr2_dqs          => ddr2_dqs_fpga,
       ddr2_dqs_n        => ddr2_dqs_n_fpga,
diff -Naur mig_36_1/user_design/datasheet.txt mig_36_1.org/user_design/datasheet.txt
--- mig_36_1/user_design/datasheet.txt	2011-09-25 23:35:45.000000000 +0200
+++ mig_36_1.org/user_design/datasheet.txt	2011-09-22 11:29:58.000000000 +0200
@@ -33,10 +33,10 @@
    Controller Options :
       Memory                         : DDR2_SDRAM
       Design Clock Frequency         : 5000 ps(200.00 MHz)
-      Memory Type                    : RDIMMs
-      Memory Part                    : MT9HTF6472Y-40E
+      Memory Type                    : UDIMMs
+      Memory Part                    : MT4HTF3264AY-40E
       Equivalent Part(s)             : --
-      Data Width                     : 72
+      Data Width                     : 64
       Memory Depth                   : 1
       ECC                            : ECC Disabled
       Data Mask                      : enabled
@@ -57,7 +57,7 @@
                       bank 13(38) -> Number of pins used : 0 
                       bank 15(38) -> Number of pins used : 0 
                       bank 17(38) -> Number of pins used : 0 
-                      bank 19(38) -> Number of pins used : 33 
+                      bank 19(38) -> Number of pins used : 22 
                       bank 21(38) -> Number of pins used : 0 
                       bank 23(38) -> Number of pins used : 33 
                       bank 25(38) -> Number of pins used : 0 
@@ -66,9 +66,9 @@
                       
        Address/Control:bank 11(38) -> Number of pins used : 0 
                       bank 13(38) -> Number of pins used : 0 
-                      bank 15(38) -> Number of pins used : 16 
+                      bank 15(38) -> Number of pins used : 7 
                       bank 17(38) -> Number of pins used : 0 
-                      bank 19(38) -> Number of pins used : 3 
+                      bank 19(38) -> Number of pins used : 14 
                       bank 21(38) -> Number of pins used : 0 
                       bank 23(38) -> Number of pins used : 3 
                       bank 25(38) -> Number of pins used : 0 
@@ -89,5 +89,5 @@
        System Clock  :bank 3(19) -> Number of pins used : 2 
                       bank 4(19) -> Number of pins used : 0 
                       
-       Total IOs used :    128
+       Total IOs used :    119
 
diff -Naur mig_36_1/user_design/log.txt mig_36_1.org/user_design/log.txt
--- mig_36_1/user_design/log.txt	2011-09-25 23:35:45.000000000 +0200
+++ mig_36_1.org/user_design/log.txt	2011-09-22 11:29:58.000000000 +0200
@@ -1,6 +1,6 @@
                                                           Log file                                                       
 
-Generated by MIG MIG Version 3.6.1Build NumberSW_VERSION on Sun Sep 25 23:35:44 2011
+Generated by MIG MIG Version 3.6.1Build NumberSW_VERSION on Thu Sep 22 11:29:57 2011
 
 
 Reading design libraries of xc5vfx130t-ff1738... successful !
@@ -30,10 +30,10 @@
 Checking pins allocated to Address bits ...
 Checking pins allocated to BankAddress bits ...
 Copying all the files from docs ...
-copying /home/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/adr_cntrl_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
-copying /home/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/read_data_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
-copying /home/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/write_data_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
-copying /home/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/xapp858.url to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
+copying /usr/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/adr_cntrl_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
+copying /usr/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/read_data_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
+copying /usr/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/write_data_timing.xls to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
+copying /usr/local/xilinx/ise13i01/ISE_DS/ISE/coregen/ip/xilinx/other/com/xilinx/ip/mig_v3_61/bin/lin/../../data/docs/virtex5/ddr2_sdram/xapp858.url to /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/docs
 Generating the file /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/user_design/rtl/ddr2_chipscope.vhd ...successful!
 Generating the file /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/user_design/rtl/ddr2_ctrl.vhd ...successful!
 Generating the file /home/jiri/ibm/vhdl/grlib/designs/leon3-xilinx-ml510/tmp/_cg/mig_36_1/user_design/rtl/ddr2_top.vhd ...successful!
diff -Naur mig_36_1/user_design/mig.prj mig_36_1.org/user_design/mig.prj
--- mig_36_1/user_design/mig.prj	2011-09-25 23:35:45.000000000 +0200
+++ mig_36_1.org/user_design/mig.prj	2011-09-22 11:29:58.000000000 +0200
@@ -13,14 +13,14 @@
     <PinSelectionFlag>FALSE</PinSelectionFlag>
     <IODelayHighPerformanceMode>HIGH</IODelayHighPerformanceMode>
     <Controller number="0" >
-        <MemoryDevice>DDR2_SDRAM/RDIMMs/MT9HTF6472Y-40E</MemoryDevice>
+        <MemoryDevice>DDR2_SDRAM/UDIMMs/MT4HTF3264AY-40E</MemoryDevice>
         <TimePeriod>5000</TimePeriod>
-        <DataWidth>72</DataWidth>
+        <DataWidth>64</DataWidth>
         <DeepMemory>1</DeepMemory>
         <DataMask>1</DataMask>
         <CustomPart>FALSE</CustomPart>
         <NewPartName></NewPartName>
-        <RowAddress>14</RowAddress>
+        <RowAddress>13</RowAddress>
         <ColAddress>10</ColAddress>
         <BankAddress>2</BankAddress>
         <TimingParameters>
@@ -47,7 +47,7 @@
         <mrMode name="Mode" >normal(0)</mrMode>
         <mrDllReset name="DLL Reset" >no(0)</mrDllReset>
         <mrPdMode name="PD Mode" >fast exit(0)</mrPdMode>
-        <mrWriteRecovery name="Write Recovery" >3(010)</mrWriteRecovery>
+        <mrWriteRecovery name="Write Recovery" ></mrWriteRecovery>
         <emrDllEnable name="DLL Enable" >Enable-Normal(0)</emrDllEnable>
         <emrOutputDriveStrength name="Output Drive Strength" >Fullstrength(0)</emrOutputDriveStrength>
         <emrRTT name="RTT (nominal) - ODT" >75ohms(01)</emrRTT>
diff -Naur mig_36_1/user_design/par/mig_36_1.ucf mig_36_1.org/user_design/par/mig_36_1.ucf
--- mig_36_1/user_design/par/mig_36_1.ucf	2011-09-25 23:35:45.000000000 +0200
+++ mig_36_1.org/user_design/par/mig_36_1.ucf	2011-09-22 11:29:58.000000000 +0200
@@ -1,7 +1,7 @@
 ############################################################################
 ## 
 ##  Xilinx, Inc. 2006            www.xilinx.com 
-##  Sun Sep 25 23:35:43 2011
+##  Thu Sep 22 11:29:55 2011
 ##  Generated by MIG Version 3.6.1
 ##  
 ############################################################################
@@ -32,8 +32,8 @@
 ############################################################################
 ########################################################################
 # Controller 0
-# Memory Device: DDR2_SDRAM->RDIMMs->MT9HTF6472Y-40E
-# Data Width:     72
+# Memory Device: DDR2_SDRAM->UDIMMs->MT4HTF3264AY-40E
+# Data Width:     64
 # Frequency:      200
 # Time Period:      5000
 # Data Mask:     1
@@ -53,7 +53,6 @@
 NET  "ddr2_cs_n[*]"                             IOSTANDARD = SSTL18_II;
 NET  "ddr2_odt[*]"                              IOSTANDARD = SSTL18_II;
 NET  "ddr2_cke[*]"                              IOSTANDARD = SSTL18_II;
-NET  "ddr2_reset_n"                             IOSTANDARD = LVCMOS18;
 NET  "ddr2_dm[*]"                               IOSTANDARD = SSTL18_II_DCI;
 NET  "sys_clk"                                  IOSTANDARD = LVCMOS25;
 NET  "idly_clk_200"                             IOSTANDARD = LVCMOS25;
@@ -132,37 +131,27 @@
 NET  "ddr2_dq[61]"                               LOC = "F36" ;          #Bank 19
 NET  "ddr2_dq[62]"                               LOC = "G36" ;          #Bank 19
 NET  "ddr2_dq[63]"                               LOC = "F37" ;          #Bank 19
-NET  "ddr2_dq[64]"                               LOC = "E38" ;          #Bank 19
-NET  "ddr2_dq[65]"                               LOC = "D37" ;          #Bank 19
-NET  "ddr2_dq[66]"                               LOC = "V35" ;          #Bank 19
-NET  "ddr2_dq[67]"                               LOC = "V34" ;          #Bank 19
-NET  "ddr2_dq[68]"                               LOC = "W33" ;          #Bank 19
-NET  "ddr2_dq[69]"                               LOC = "Y33" ;          #Bank 19
-NET  "ddr2_dq[70]"                               LOC = "W32" ;          #Bank 19
-NET  "ddr2_dq[71]"                               LOC = "Y32" ;          #Bank 19
-NET  "ddr2_a[13]"                                LOC = "D42" ;          #Bank 27
-NET  "ddr2_a[12]"                                LOC = "E32" ;          #Bank 23
-NET  "ddr2_a[11]"                                LOC = "E33" ;          #Bank 23
-NET  "ddr2_a[10]"                                LOC = "T31" ;          #Bank 23
-NET  "ddr2_a[9]"                                 LOC = "U36" ;          #Bank 19
-NET  "ddr2_a[8]"                                 LOC = "V36" ;          #Bank 19
-NET  "ddr2_a[7]"                                 LOC = "AA32" ;          #Bank 19
-NET  "ddr2_a[6]"                                 LOC = "H38" ;          #Bank 15
-NET  "ddr2_a[5]"                                 LOC = "H39" ;          #Bank 15
-NET  "ddr2_a[4]"                                 LOC = "G38" ;          #Bank 15
-NET  "ddr2_a[3]"                                 LOC = "G39" ;          #Bank 15
-NET  "ddr2_a[2]"                                 LOC = "F39" ;          #Bank 15
-NET  "ddr2_a[1]"                                 LOC = "F40" ;          #Bank 15
-NET  "ddr2_a[0]"                                 LOC = "E39" ;          #Bank 15
-NET  "ddr2_ba[1]"                                LOC = "E40" ;          #Bank 15
-NET  "ddr2_ba[0]"                                LOC = "R39" ;          #Bank 15
-NET  "ddr2_ras_n"                                LOC = "R37" ;          #Bank 15
-NET  "ddr2_cas_n"                                LOC = "P37" ;          #Bank 15
-NET  "ddr2_we_n"                                 LOC = "P38" ;          #Bank 15
-NET  "ddr2_cs_n[0]"                              LOC = "N38" ;          #Bank 15
-NET  "ddr2_odt[0]"                               LOC = "N39" ;          #Bank 15
-NET  "ddr2_cke[0]"                               LOC = "M39" ;          #Bank 15
-NET  "ddr2_reset_n"                              LOC = "M38" ;          #Bank 15
+NET  "ddr2_a[12]"                                LOC = "D42" ;          #Bank 27
+NET  "ddr2_a[11]"                                LOC = "T31" ;          #Bank 23
+NET  "ddr2_a[10]"                                LOC = "U36" ;          #Bank 19
+NET  "ddr2_a[9]"                                 LOC = "V36" ;          #Bank 19
+NET  "ddr2_a[8]"                                 LOC = "E38" ;          #Bank 19
+NET  "ddr2_a[7]"                                 LOC = "D37" ;          #Bank 19
+NET  "ddr2_a[6]"                                 LOC = "V35" ;          #Bank 19
+NET  "ddr2_a[5]"                                 LOC = "V34" ;          #Bank 19
+NET  "ddr2_a[4]"                                 LOC = "V33" ;          #Bank 19
+NET  "ddr2_a[3]"                                 LOC = "W33" ;          #Bank 19
+NET  "ddr2_a[2]"                                 LOC = "Y33" ;          #Bank 19
+NET  "ddr2_a[1]"                                 LOC = "W32" ;          #Bank 19
+NET  "ddr2_a[0]"                                 LOC = "Y32" ;          #Bank 19
+NET  "ddr2_ba[1]"                                LOC = "AA32" ;          #Bank 19
+NET  "ddr2_ba[0]"                                LOC = "H38" ;          #Bank 15
+NET  "ddr2_ras_n"                                LOC = "H39" ;          #Bank 15
+NET  "ddr2_cas_n"                                LOC = "G38" ;          #Bank 15
+NET  "ddr2_we_n"                                 LOC = "G39" ;          #Bank 15
+NET  "ddr2_cs_n[0]"                              LOC = "F39" ;          #Bank 15
+NET  "ddr2_odt[0]"                               LOC = "F40" ;          #Bank 15
+NET  "ddr2_cke[0]"                               LOC = "E39" ;          #Bank 15
 NET  "ddr2_dm[0]"                                LOC = "A30" ;          #Bank 27
 NET  "ddr2_dm[1]"                                LOC = "A34" ;          #Bank 27
 NET  "ddr2_dm[2]"                                LOC = "B42" ;          #Bank 27
@@ -171,11 +160,10 @@
 NET  "ddr2_dm[5]"                                LOC = "R33" ;          #Bank 23
 NET  "ddr2_dm[6]"                                LOC = "L37" ;          #Bank 19
 NET  "ddr2_dm[7]"                                LOC = "K37" ;          #Bank 19
-NET  "ddr2_dm[8]"                                LOC = "V33" ;          #Bank 19
 NET  "sys_clk"                                   LOC = "J17" ;          #Bank 3
 NET  "idly_clk_200"                              LOC = "M27" ;          #Bank 3
-NET  "sys_rst_n"                                 LOC = "L39" ;          #Bank 15
-NET  "phy_init_done"                             LOC = "K38" ;          #Bank 15
+NET  "sys_rst_n"                                 LOC = "E40" ;          #Bank 15
+NET  "phy_init_done"                             LOC = "R39" ;          #Bank 15
 NET  "ddr2_dqs[0]"                               LOC = "D35" ;          #Bank 27
 NET  "ddr2_dqs_n[0]"                             LOC = "D36" ;          #Bank 27
 NET  "ddr2_dqs[1]"                               LOC = "C36" ;          #Bank 27
@@ -192,10 +180,12 @@
 NET  "ddr2_dqs_n[6]"                             LOC = "T35" ;          #Bank 19
 NET  "ddr2_dqs[7]"                               LOC = "T34" ;          #Bank 19
 NET  "ddr2_dqs_n[7]"                             LOC = "U33" ;          #Bank 19
-NET  "ddr2_dqs[8]"                               LOC = "R35" ;          #Bank 19
-NET  "ddr2_dqs_n[8]"                             LOC = "T36" ;          #Bank 19
 NET  "ddr2_ck[0]"                                LOC = "B37" ;          #Bank 27
 NET  "ddr2_ck_n[0]"                              LOC = "B36" ;          #Bank 27
+NET  "ddr2_ck[1]"                                LOC = "E32" ;          #Bank 23
+NET  "ddr2_ck_n[1]"                              LOC = "E33" ;          #Bank 23
+NET  "ddr2_ck[2]"                                LOC = "R35" ;          #Bank 19
+NET  "ddr2_ck_n[2]"                              LOC = "T36" ;          #Bank 19
 
 
 ###############################################################################
@@ -284,8 +274,6 @@
 INST "*/gen_dqs.6.u_iob_dqs/u_iodelay_dq_ce"  LOC = "IODELAY_X0Y302";
 INST "*/gen_dqs.7.u_iob_dqs/u_iddr_dq_ce"  LOC = "ILOGIC_X0Y300";
 INST "*/gen_dqs.7.u_iob_dqs/u_iodelay_dq_ce"  LOC = "IODELAY_X0Y300";
-INST "*/gen_dqs.8.u_iob_dqs/u_iddr_dq_ce"  LOC = "ILOGIC_X0Y298";
-INST "*/gen_dqs.8.u_iob_dqs/u_iodelay_dq_ce"  LOC = "IODELAY_X0Y298";
 
 ###############################################################################
 # LOC and timing constraints for flop driving DQS CE enable signal
@@ -307,7 +295,6 @@
 INST "*/u_phy_calib/gen_gate.5.u_en_dqs_ff"  LOC = SLICE_X0Y169;
 INST "*/u_phy_calib/gen_gate.6.u_en_dqs_ff"  LOC = SLICE_X0Y151;
 INST "*/u_phy_calib/gen_gate.7.u_en_dqs_ff"  LOC = SLICE_X0Y150;
-INST "*/u_phy_calib/gen_gate.8.u_en_dqs_ff"  LOC = SLICE_X0Y149;
 
 # Control for DQS gate - from fabric flop. Prevent "runaway" delay -
 # two parts to this path: (1) from fabric flop to IDELAY, (2) from
diff -Naur mig_36_1/user_design/rtl/ddr2_phy_top.vhd mig_36_1.org/user_design/rtl/ddr2_phy_top.vhd
--- mig_36_1/user_design/rtl/ddr2_phy_top.vhd	2011-09-25 23:35:44.000000000 +0200
+++ mig_36_1.org/user_design/rtl/ddr2_phy_top.vhd	2011-09-22 11:29:57.000000000 +0200
@@ -395,7 +395,7 @@
     "mig_v3_61_ddr2_sdram_v5, Coregen 12.4";
 
   attribute CORE_GENERATION_INFO : string;
-  attribute CORE_GENERATION_INFO of syn : architecture IS "ddr2_sdram_v5,mig_v3_61,{component_name=ddr2_phy_top, BANK_WIDTH=2, CKE_WIDTH=1, CLK_WIDTH=1, COL_WIDTH=10, CS_NUM=1, CS_WIDTH=1, DM_WIDTH=9, DQ_WIDTH=72, DQ_PER_DQS=8, DQS_WIDTH=9, ODT_WIDTH=1, ROW_WIDTH=14, ADDITIVE_LAT=0, BURST_LEN=4, BURST_TYPE=0, CAS_LAT=3, ECC_ENABLE=0, MULTI_BANK_EN=1, TWO_T_TIME_EN=0, ODT_TYPE=1, REDUCE_DRV=0, REG_ENABLE=1, TREFI_NS=7800, TRAS=40000, TRCD=15000, TRFC=105000, TRP=15000, TRTP=7500, TWR=15000, TWTR=10000, CLK_PERIOD=5000, RST_ACT_LOW=1, INTERFACE_TYPE=DDR2_SDRAM, LANGUAGE=VHDL, SYNTHESIS_TOOL=synplicity, NO_OF_CONTROLLERS=1}";
+  attribute CORE_GENERATION_INFO of syn : architecture IS "ddr2_sdram_v5,mig_v3_61,{component_name=ddr2_phy_top, BANK_WIDTH=2, CKE_WIDTH=1, CLK_WIDTH=3, COL_WIDTH=10, CS_NUM=1, CS_WIDTH=1, DM_WIDTH=8, DQ_WIDTH=64, DQ_PER_DQS=8, DQS_WIDTH=8, ODT_WIDTH=1, ROW_WIDTH=13, ADDITIVE_LAT=0, BURST_LEN=4, BURST_TYPE=0, CAS_LAT=3, ECC_ENABLE=0, MULTI_BANK_EN=1, TWO_T_TIME_EN=1, ODT_TYPE=1, REDUCE_DRV=0, REG_ENABLE=0, TREFI_NS=7800, TRAS=40000, TRCD=15000, TRFC=105000, TRP=15000, TRTP=7500, TWR=15000, TWTR=10000, CLK_PERIOD=5000, RST_ACT_LOW=1, INTERFACE_TYPE=DDR2_SDRAM, LANGUAGE=VHDL, SYNTHESIS_TOOL=synplicity, NO_OF_CONTROLLERS=1}";
 
 begin
 
diff -Naur mig_36_1/user_design/rtl/mig_36_1.vhd mig_36_1.org/user_design/rtl/mig_36_1.vhd
--- mig_36_1/user_design/rtl/mig_36_1.vhd	2011-09-25 23:35:44.000000000 +0200
+++ mig_36_1.org/user_design/rtl/mig_36_1.vhd	2011-09-22 11:29:57.000000000 +0200
@@ -76,7 +76,7 @@
                               -- # of memory bank addr bits.
    CKE_WIDTH                : integer := 1; 
                               -- # of memory clock enable outputs.
-   CLK_WIDTH                : integer := 1; 
+   CLK_WIDTH                : integer := 3; 
                               -- # of clock outputs.
    COL_WIDTH                : integer := 10; 
                               -- # of memory column bits.
@@ -86,21 +86,21 @@
                               -- # of total memory chip selects.
    CS_BITS                  : integer := 0; 
                               -- set to log2(CS_NUM) (rounded up).
-   DM_WIDTH                 : integer := 9; 
+   DM_WIDTH                 : integer := 8; 
                               -- # of data mask bits.
-   DQ_WIDTH                 : integer := 72; 
+   DQ_WIDTH                 : integer := 64; 
                               -- # of data width.
    DQ_PER_DQS               : integer := 8; 
                               -- # of DQ data bits per strobe.
-   DQS_WIDTH                : integer := 9; 
+   DQS_WIDTH                : integer := 8; 
                               -- # of DQS strobes.
-   DQ_BITS                  : integer := 7; 
+   DQ_BITS                  : integer := 6; 
                               -- set to log2(DQS_WIDTH*DQ_PER_DQS).
-   DQS_BITS                 : integer := 4; 
+   DQS_BITS                 : integer := 3; 
                               -- set to log2(DQS_WIDTH).
    ODT_WIDTH                : integer := 1; 
                               -- # of memory on-die term enables.
-   ROW_WIDTH                : integer := 14; 
+   ROW_WIDTH                : integer := 13; 
                               -- # of memory row and # of addr bits.
    ADDITIVE_LAT             : integer := 0; 
                               -- additive write latency.
@@ -112,17 +112,17 @@
                               -- CAS latency.
    ECC_ENABLE               : integer := 0; 
                               -- enable ECC (=1 enable).
-   APPDATA_WIDTH            : integer := 144; 
+   APPDATA_WIDTH            : integer := 128; 
                               -- # of usr read/write data bus bits.
    MULTI_BANK_EN            : integer := 1; 
                               -- Keeps multiple banks open. (= 1 enable).
-   TWO_T_TIME_EN            : integer := 0; 
+   TWO_T_TIME_EN            : integer := 1; 
                               -- 2t timing for unbuffered dimms.
    ODT_TYPE                 : integer := 1; 
                               -- ODT (=0(none),=1(75),=2(150),=3(50)).
    REDUCE_DRV               : integer := 0; 
                               -- reduced strength mem I/O (=1 yes).
-   REG_ENABLE               : integer := 1; 
+   REG_ENABLE               : integer := 0; 
                               -- registered addr/ctrl (=1 yes).
    TREFI_NS                 : integer := 7800; 
                               -- auto refresh interval (ns).
@@ -175,7 +175,6 @@
    ddr2_cs_n             : out   std_logic_vector((CS_WIDTH-1) downto 0);
    ddr2_odt              : out   std_logic_vector((ODT_WIDTH-1) downto 0);
    ddr2_cke              : out   std_logic_vector((CKE_WIDTH-1) downto 0);
-   ddr2_reset_n          : out   std_logic;
    ddr2_dm               : out   std_logic_vector((DM_WIDTH-1) downto 0);
    sys_clk               : in    std_logic;
    idly_clk_200          : in    std_logic;
@@ -427,14 +426,13 @@
     "mig_v3_61_ddr2_v5, Coregen 12.4";
 
   attribute CORE_GENERATION_INFO : string;
-  attribute CORE_GENERATION_INFO of arc_mem_interface_top : architecture IS "ddr2_v5,mig_v3_61,{component_name=mig_36_1, BANK_WIDTH=2, CKE_WIDTH=1, CLK_WIDTH=1, COL_WIDTH=10, CS_NUM=1, CS_WIDTH=1, DM_WIDTH=9, DQ_WIDTH=72, DQ_PER_DQS=8, DQS_WIDTH=9, ODT_WIDTH=1, ROW_WIDTH=14, ADDITIVE_LAT=0, BURST_LEN=4, BURST_TYPE=0, CAS_LAT=3, ECC_ENABLE=0, MULTI_BANK_EN=1, TWO_T_TIME_EN=0, ODT_TYPE=1, REDUCE_DRV=0, REG_ENABLE=1, TREFI_NS=7800, TRAS=40000, TRCD=15000, TRFC=105000, TRP=15000, TRTP=7500, TWR=15000, TWTR=10000, CLK_PERIOD=5000, RST_ACT_LOW=1, INTERFACE_TYPE=DDR2_SDRAM, LANGUAGE=VHDL, SYNTHESIS_TOOL=synplicity, NO_OF_CONTROLLERS=1}";
+  attribute CORE_GENERATION_INFO of arc_mem_interface_top : architecture IS "ddr2_v5,mig_v3_61,{component_name=mig_36_1, BANK_WIDTH=2, CKE_WIDTH=1, CLK_WIDTH=3, COL_WIDTH=10, CS_NUM=1, CS_WIDTH=1, DM_WIDTH=8, DQ_WIDTH=64, DQ_PER_DQS=8, DQS_WIDTH=8, ODT_WIDTH=1, ROW_WIDTH=13, ADDITIVE_LAT=0, BURST_LEN=4, BURST_TYPE=0, CAS_LAT=3, ECC_ENABLE=0, MULTI_BANK_EN=1, TWO_T_TIME_EN=1, ODT_TYPE=1, REDUCE_DRV=0, REG_ENABLE=0, TREFI_NS=7800, TRAS=40000, TRCD=15000, TRFC=105000, TRP=15000, TRTP=7500, TWR=15000, TWTR=10000, CLK_PERIOD=5000, RST_ACT_LOW=1, INTERFACE_TYPE=DDR2_SDRAM, LANGUAGE=VHDL, SYNTHESIS_TOOL=synplicity, NO_OF_CONTROLLERS=1}";
 
 begin
 
   --***************************************************************************
   rst0_tb <= rst0;
   clk0_tb <= clk0;
-  ddr2_reset_n   <= not(rst0);
   phy_init_done   <= i_phy_init_done;
   sys_clk_p <= '1';
   sys_clk_n <= '0';
diff -Naur mig_36_1/user_design/sim/sim.do mig_36_1.org/user_design/sim/sim.do
--- mig_36_1/user_design/sim/sim.do	2011-09-25 23:35:45.000000000 +0200
+++ mig_36_1.org/user_design/sim/sim.do	2011-09-22 11:29:58.000000000 +0200
@@ -70,7 +70,7 @@
 vlog  ../sim/*.v
 vcom  ../sim/*.vhd
 #Pass the parameters for memory model parameter file#
-vlog  +incdir+. +define+x512Mb +define+sg5E +define+x8 ddr2_model.v
+vlog  +incdir+. +define+x512Mb +define+sg5E +define+x16 ddr2_model.v
 
 #Load the design. Use required libraries.#
 vsim -t ps -novopt +notimingchecks -L unisim work.sim_tb_top glbl
diff -Naur mig_36_1/user_design/sim/sim_tb_top.vhd mig_36_1.org/user_design/sim/sim_tb_top.vhd
--- mig_36_1/user_design/sim/sim_tb_top.vhd	2011-09-25 23:35:44.000000000 +0200
+++ mig_36_1.org/user_design/sim/sim_tb_top.vhd	2011-09-22 11:29:57.000000000 +0200
@@ -72,32 +72,32 @@
   -- memory controller parameters
   constant BANK_WIDTH            : integer := 2;      -- # of memory bank addr bits
   constant CKE_WIDTH             : integer := 1;      -- # of memory clock enable outputs
-  constant CLK_WIDTH             : integer := 1;      -- # of clock outputs
+  constant CLK_WIDTH             : integer := 3;      -- # of clock outputs
   constant CLK_TYPE              : string  := "SINGLE_ENDED";       -- # of clock type
   constant COL_WIDTH             : integer := 10;     -- # of memory column bits
   constant CS_NUM                : integer := 1;      -- # of separate memory chip selects
   constant CS_WIDTH              : integer := 1;      -- # of total memory chip selects
   constant CS_BITS               : integer := 0;      -- set to log2(CS_NUM) (rounded up)
-  constant DM_WIDTH              : integer := 9;      -- # of data mask bits
-  constant DQ_WIDTH              : integer := 72;     -- # of data width
+  constant DM_WIDTH              : integer := 8;      -- # of data mask bits
+  constant DQ_WIDTH              : integer := 64;     -- # of data width
   constant DQ_PER_DQS            : integer := 8;      -- # of DQ data bits per strobe
-  constant DQ_BITS               : integer := 7;      -- set to log2(DQS_WIDTH*DQ_PER_DQS)
-  constant DQS_WIDTH             : integer := 9;      -- # of DQS strobes
-  constant DQS_BITS              : integer := 4;      -- set to log2(DQS_WIDTH)
+  constant DQ_BITS               : integer := 6;      -- set to log2(DQS_WIDTH*DQ_PER_DQS)
+  constant DQS_WIDTH             : integer := 8;      -- # of DQS strobes
+  constant DQS_BITS              : integer := 3;      -- set to log2(DQS_WIDTH)
   constant HIGH_PERFORMANCE_MODE : boolean := TRUE; -- Sets the performance mode for IODELAY elements
   constant ODT_WIDTH             : integer := 1;      -- # of memory on-die term enables
-  constant ROW_WIDTH             : integer := 14;     -- # of memory row & # of addr bits
-  constant APPDATA_WIDTH         : integer := 144;     -- # of usr read/write data bus bits
+  constant ROW_WIDTH             : integer := 13;     -- # of memory row & # of addr bits
+  constant APPDATA_WIDTH         : integer := 128;     -- # of usr read/write data bus bits
   constant ADDITIVE_LAT          : integer := 0;      -- additive write latency
   constant BURST_LEN             : integer := 4;      -- burst length (in double words)
   constant BURST_TYPE            : integer := 0;      -- burst type (=0 seq; =1 interlved)
   constant CAS_LAT               : integer := 3;      -- CAS latency
   constant ECC_ENABLE            : integer := 0;      -- enable ECC (=1 enable)
   constant MULTI_BANK_EN         : integer := 1;      -- enable bank management
-  constant TWO_T_TIME_EN         : integer := 0;      -- 2t timing for unbuffered dimms
+  constant TWO_T_TIME_EN         : integer := 1;      -- 2t timing for unbuffered dimms
   constant ODT_TYPE              : integer := 1;      -- ODT (=0(none),=1(75),=2(150),=3(50))
   constant REDUCE_DRV            : integer := 0;      -- reduced strength mem I/O (=1 yes)
-  constant REG_ENABLE            : integer := 1;      -- registered addr/ctrl (=1 yes)
+  constant REG_ENABLE            : integer := 0;      -- registered addr/ctrl (=1 yes)
   constant TREFI_NS              : integer := 7800;   -- auto refresh interval (ns)
   constant TRAS                  : integer := 40000;  -- active->precharge delay
   constant TRCD                  : integer := 15000;  -- active->read/write delay
@@ -112,7 +112,7 @@
   constant DLL_FREQ_MODE         : string  := "HIGH"; -- DCM Frequency range
   constant CLK_PERIOD            : integer := 5000;   -- Core/Mem clk period (in ps)
 
-  constant DEVICE_WIDTH    : integer := 8;      -- Memory device data width
+  constant DEVICE_WIDTH    : integer := 16;      -- Memory device data width
   constant CLK_PERIOD_NS   : real := 5000.0 / 1000.0;
   constant TCYC_SYS        : real := CLK_PERIOD_NS/2.0;
   constant TCYC_SYS_0      : time := CLK_PERIOD_NS * 1 ns;
@@ -186,7 +186,6 @@
       ddr2_dqs              : inout std_logic_vector((DQS_WIDTH-1) downto 0);
       ddr2_dqs_n            : inout std_logic_vector((DQS_WIDTH-1) downto 0);
       ddr2_dm               : out   std_logic_vector((DM_WIDTH-1) downto 0);
-      ddr2_reset_n          : out   std_logic;
       
       clk0_tb               : out   std_logic;
       rst0_tb               : out   std_logic;
@@ -434,7 +433,6 @@
       ddr2_cke          => ddr2_cke_fpga,
       ddr2_odt          => ddr2_odt_fpga,
       ddr2_dm           => ddr2_dm_fpga,
-      ddr2_reset_n      => ddr2_reset_n_fpga,
       ddr2_dq           => ddr2_dq_fpga,
       ddr2_dqs          => ddr2_dqs_fpga,
       ddr2_dqs_n        => ddr2_dqs_n_fpga,
